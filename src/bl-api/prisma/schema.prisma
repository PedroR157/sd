// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Move {
  id                  Int                  @id @default(autoincrement())
  name                String
  url                 String
  versionGroupDetails VersionGroupDetail[] @relation("MoveToVersionGroupDetails")
}

model VersionGroupDetail {
  id                Int             @id @default(autoincrement())
  moveId            Int
  versionGroupId    Int
  moveLearnMethodId Int
  levelLearnedAt    Int
  move              Move            @relation("MoveToVersionGroupDetails", fields: [moveId], references: [id])
  versionGroup      VersionGroup    @relation("VersionGroupToDetails", fields: [versionGroupId], references: [id])
  moveLearnMethod   MoveLearnMethod @relation("MoveLearnMethodToDetails", fields: [moveLearnMethodId], references: [id])
}

model VersionGroup {
  id      Int                  @id @default(autoincrement())
  name    String
  url     String
  details VersionGroupDetail[] @relation("VersionGroupToDetails")
}

model MoveLearnMethod {
  id      Int                  @id @default(autoincrement())
  name    String
  url     String
  details VersionGroupDetail[] @relation("MoveLearnMethodToDetails")
}
